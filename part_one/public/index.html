<!DOCTYPE html>
<html ng-app="ecommerce">

  <head>
      <title> E-Commerce </title>
      <link rel="stylesheet" type="text/css" href="style.css">
  </head>

  <body ng-controller="controller">
      <div class="main-container">
              <input type='text' size='40' ng-model='products' placeholder="Search products"/>
                  <ul ng-repeat="product in productList | filter: products">
                    <li>{{product.title}}</li>
                    <li>{{product.description}}</li>
                    <li>{{product.price}}</li>
                    <!-- pass the product._id needed for the cart schema in the button -->
                    <li> <button ng-click="buyProduct(product._id)">Buy {{product.title}} </button> </li>
                  </ul>
                  <!-- accesses the cart object within the User array
                  the cart does not have a collection in the db so we have to access the user and find their cart document -->
                  <ul ng-repeat="user in theUser.cart">
                    <li>{{user.item.title}} {{user.item.description}} {{user.item.price}}</li>
                  </ul>
          <ui-view></ui-view>
      </div>

      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.js"></script>
      <script src="./app.js"></script>
      <script src="./services/productSvc.js"></script>
      <script src="./services/cartSvc.js"></script>
      <script src="./services/userSvc.js"></script>
      <script src="./services/orderSvc.js"></script>
      <script src="./controllers/adminCtrl.js"></script>
      <script src="./controllers/homeCtrl.js"></script>
      <script src="./controllers/controller.js"></script>
  </body>
</html>
